# BEIHE ������

## Ӳ�����

### ����оƬ
- **ESP32-S3** (˫�� Xtensa LX7, 240MHz)

### ��Ƶϵͳ
- **��˷�**: SPM1423 PDM ���� MEMS ��˷�
- **����**: MAX98357A I2S ���ֹ���
- **������**: 16kHz (����/���)

### ��ʾ��
- **LCD**: ILI9486 (320x480)
- **�ӿ�**: SPI
- **��ɫ**: 16λ RGB565

### ����
- **Wi-Fi**: 2.4GHz 802.11 b/g/n

## ���Ŷ���

### ��Ƶ����
| ���� | GPIO | ˵�� |
|------|------|------|
| ��˷� CLK | GPIO39 | SPM1423 PDM ʱ�� |
| ��˷� DATA | GPIO38 | SPM1423 PDM ���� |
| ������ BCLK | GPIO18 | MAX98357A λʱ�� |
| ������ LRCLK | GPIO8 | MAX98357A ����ʱ�� |
| ������ DIN | GPIO17 | MAX98357A �������� |
| ������ EN | GPIO16 | MAX98357A ʹ�ܿ��� |

### ��ʾ����
| ���� | GPIO | ˵�� |
|------|------|------|
| SPI SCK | GPIO10 | SPI ʱ�� |
| SPI MOSI | GPIO9 | SPI ������� |
| SPI MISO | GPIO46 | SPI �������� |
| LCD DC | GPIO12 | ����/����ѡ�� |
| LCD CS | GPIO11 | Ƭѡ |
| LCD RST | GPIO13 | ��λ |
| LCD BL | - | ������ƣ���ѡ�� |

### ��������
| ���� | GPIO | ˵�� |
|------|------|------|
| BOOT ��ť | GPIO0 | ������ť |
| LED | GPIO2 | ���� LED |

## Ӳ������

### SPM1423 ��˷�����
```
SPM1423          ESP32-S3
--------         --------
VDD      ----    3.3V
GND      ----    GND
CLK      ----    GPIO39
DATA     ----    GPIO38
L/R      ----    GND (������) �� VDD (������)
```

### MAX98357A ��������
```
MAX98357A        ESP32-S3
---------        --------
VIN      ----    5V (�� 3.3V)
GND      ----    GND
BCLK     ----    GPIO18
LRCLK    ----    GPIO8
DIN      ----    GPIO17
SD       ----    GPIO16
GAIN     ----    GND (9dB) �� VDD (15dB) �� ���� (12dB)
```

### ILI9486 LCD ����
```
ILI9486          ESP32-S3
-------          --------
VCC      ----    3.3V
GND      ----    GND
SCK      ----    GPIO10
MOSI     ----    GPIO9
MISO     ----    GPIO46
DC       ----    GPIO12
CS       ----    GPIO11
RST      ----    GPIO13
BL       ----    (��ѡ)
```

## �������¼

### ����һ��ʹ�� release.py �ű����Ƽ���

```bash
python scripts/release.py beihe
```

### ���������ֶ�����

1. ����Ŀ��оƬ��
```bash
idf.py set-target esp32s3
```

2. ������Ŀ��
```bash
idf.py menuconfig
```
�ڲ˵���ѡ��`Xiaozhi Assistant` -> `Board Type` -> `BEIHE Board`

3. ���룺
```bash
idf.py build
```

4. ��¼��
```bash
idf.py flash monitor
```

## ��������

- ? PDM ������˷����루SPM1423��
- ? I2S ���ֹ��������MAX98357A��
- ? 320x480 ��ɫ LCD ��ʾ
- ? Wi-Fi ����
- ? ������������
- ? ʵʱ��������
- ? OTA �̼�����
- ? ������֧��

## ע������

1. **��Ƶ����**��
   - SPM1423 ��������˷磬��������ģ����˷�
   - MAX98357A ֧����� 384kHz �����ʣ�������ʹ�� 16kHz
   - ����ͨ������ `AUDIO_SPKR_ENABLE` ���ſ��ƹ��ſ���

2. **��ʾ��**��
   - ILI9486 ֧�� 320x480 �ֱ���
   - ʹ�� SPI �ӿڣ��ٶ�����
   - �����ͨ�� PWM ��������

3. **��Դ**��
   - MAX98357A ����ʹ�� 5V �����Ի�ø�����
   - ���ʹ�� 3.3V��������ʻή��

4. **���ų�ͻ**��
   - ȷ������������ʵ��Ӳ��һ��
   - ������ Flash/PSRAM ���ų�ͻ

## �����ų�

### ��˷�������
- ��� SPM1423 �� L/R �����Ƿ���ȷ����
- ȷ�� PDM ʱ�Ӻ���������������ȷ
- �鿴������־ȷ����˷��Ƿ��ʼ���ɹ�

### ������������
- ��� MAX98357A �� SD �����Ƿ�����
- ȷ�� I2S ����������ȷ
- ����������Ƿ���ȷ���ӵ� MAX98357A ���

### ��ʾ������ʾ
- ��� SPI ��������
- ȷ�ϱ��������Ƿ���������
- �鿴������־ȷ����ʾ����ʼ��״̬

## ����֧��

�������⣬������Ŀ GitHub �ύ Issue��
https://github.com/78/xiaozhi-esp32/issues

QQ Ⱥ��1011329060
